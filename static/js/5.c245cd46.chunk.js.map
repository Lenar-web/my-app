{"version":3,"sources":["components/Users/User/User.jsx","components/Common/Pagination/Pagination.jsx","components/Users/Users.jsx","redux/user-selector.js","components/Users/UsersContainer.jsx"],"names":["User","_ref","user","followingInProgress","follow","unfollow","react_default","a","createElement","className","react_router_dom","to","id","src","photos","large","alt","name","status","followed","disabled","some","onClick","Pagination","totalItemsCount","pageSize","onPageChanged","currentPage","_ref$portionSize","portionSize","pageCount","Math","ceil","pages","i","push","portionCount","_useState","useState","_useState2","Object","slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","totalPage","filter","p","map","key","e","Users","props","Common_Pagination_Pagination","totalUserCount","fetching","Preloader","users","u","Users_User_User","getUsers","state","usersPage","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","pageNumber","_this","PageChanged","this","getRequestUsers","Fragment","components_Users_Users","React","Component","compose","connect","widthAuthRedirect"],"mappings":"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","file":"static/js/5.c245cd46.chunk.js","sourcesContent":["import React from 'react';\nimport {NavLink} from 'react-router-dom';\n\nlet User = ({user,followingInProgress, follow, unfollow}) => {\n\nreturn (\n   \n<div className=\"nearby-user\">\n      <div className=\"row\">\n        <div className=\"col-md-2 col-sm-2\">\n          <NavLink to={\"/profile/\" + user.id}className=\"profile-photo-lg\">\n          <img src={user.photos.large !== null ? user.photos.large : 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ1P9NIBPbZvN_8V2uZ8cVfm4Rnwwel8_UF_89HT238qUQAOZ1p'  }  alt=\"user\" />\n          </NavLink>\n        </div>\n        <div className=\"col-md-7 col-sm-7\">\n          <h5><NavLink to={\"/profile/\" + user.id} className=\"profile-link\">{user.name}</NavLink></h5>\n          <p>{user.status}</p>\n    \n        </div>\n        <div className=\"col-md-3 col-sm-3\">\n          {user.followed \n            ? <button disabled={followingInProgress.some(id => id === user.id)} \n            onClick={()=>{unfollow(user.id)}} \n            className=\"btn btn-primary pull-right\">Удалить из друзей</button> \n            : <button disabled={followingInProgress.some(id => id === user.id)} \n            onClick={()=>{follow(user.id)}} \n            className=\"btn btn-primary pull-right\">Добавить в друзья</button>}\n          \n        </div>\n      </div>\n    </div>\n\n);\n}\n\nexport default User;","import React, {useState} from 'react';\r\n\r\nconst Pagination = ({totalItemsCount, pageSize, onPageChanged, currentPage, portionSize = 10}) => {\r\n  let pageCount = Math.ceil(totalItemsCount / pageSize);\r\n  \r\n  let pages = []\r\n  for(let i = 1; i <= pageCount; i++) {\r\n    pages.push(i);\r\n  }\r\n  let portionCount = Math.ceil(pageCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n  \r\n  let totalPage = pages\r\n  .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n  .map((p) => {\r\n    return <span className={currentPage === p ? \"currentPage\" : ''}\r\n                 key={p}\r\n                 onClick={(e) => {\r\n                     onPageChanged(p);\r\n                 }}>{p}</span>\r\n})\r\n\r\n\r\nreturn   <div className=\"pagination\">\r\n  {portionNumber > 1 && <button className=\"arrow arrow__left\" onClick={ () => {setPortionNumber(portionNumber - 1); onPageChanged(leftPortionPageNumber-portionSize)}}>Предыдущая</button>}\r\n    {totalPage}\r\n  {portionNumber < portionCount && <button className=\"arrow arrow__right\" onClick={ () => {setPortionNumber(portionNumber + 1); onPageChanged(rightPortionPageNumber+1)}}>Следующая</button>}\r\n  </div>\r\n}\r\n\r\n\r\nexport default Pagination;","import React from 'react';\nimport Preloader from '../Common/Preloader/Preloader';\nimport User from './User/User';\nimport Pagination from '../Common/Pagination/Pagination';\n\nconst Users = (props) => {\n  return <div className=\"people-nearby\">\n    <Pagination\n      totalItemsCount={props.totalUserCount}\n      pageSize={props.pageSize}\n      onPageChanged={props.onPageChanged}\n      currentPage={props.currentPage}/> {props.fetching\n      ? <Preloader/>\n      : null}\n    {!props.fetching && props\n      .users\n      .map(u => <User\n        key={u.id}\n        user={u}\n        followingInProgress={props.followingInProgress}\n        follow={props.follow}\n        unfollow={props.unfollow}/>)\n}\n    {/* <button className=\"btn btn-primary btn-more\">Показать еще</button> */}\n  </div>\n}\n\nexport default Users;","export const getUsers = (state) => {\r\n  return state.usersPage.users;\r\n}\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUserCount = (state) => {\r\n  return state.usersPage.totalUserCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n}","import React from 'react';\nimport {connect} from 'react-redux';\nimport { follow, unfollow, getRequestUsers, PageChanged } from '../../redux/user-reducer';\nimport Users from './Users';\nimport { widthAuthRedirect } from '../../hoc/withAuthRedirect';\nimport {compose} from 'redux';\nimport {getUsers,getPageSize,getTotalUserCount,getCurrentPage,getIsFetching,getFollowingInProgress} from '../../redux/user-selector'\n\nclass UsersContainer extends React.Component {\n\n  componentDidMount() {\n    this.props.getRequestUsers(this.props.currentPage,this.props.pageSize)\n  }\n  onPageChanged = (pageNumber) => {\n    this.props.PageChanged(pageNumber, this.props.pageSize)\n  }\n  render() {\n   return <> \n  \n   <Users totalUserCount={this.props.totalUserCount} \n                  pageSize={this.props.pageSize}\n                  onPageChanged={this.onPageChanged}\n                  currentPage={this.props.currentPage}\n                  users={this.props.users}\n                  follow={this.props.follow}\n                  unfollow={this.props.unfollow}\n                  fetching={this.props.fetching}\n                  followingInProgress={this.props.followingInProgress}\n                  />\n                  </>\n}\n}\nlet mapStateToProps = (state) => {\n  return {\n    users: getUsers(state),\n    pageSize: getPageSize(state),\n    totalUserCount: getTotalUserCount(state),\n    currentPage: getCurrentPage(state),\n    fetching: getIsFetching(state),\n    followingInProgress: getFollowingInProgress(state)\n  }\n}\n\n\n\nexport default compose(\n  connect(mapStateToProps, { follow, unfollow, getRequestUsers, PageChanged }),\n  widthAuthRedirect\n\n)(UsersContainer);\n\n"],"sourceRoot":""}